<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INSCRIÇÃO</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/styleForm.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.11/jquery.mask.min.js"></script>
</head>
<body>
    <!-- <video autoplay muted loop class="video-bg">
        <source src="../asset/img/Design sem nome.mp4" type="video/mp4">
        Seu navegador não suporta o elemento de vídeo.
    </video> -->
    <div class="container">
        <div class="contGeral">
            <h1> Inscrição </h1>
            <div class="FormContent">
                <div class="imageLeft">
                    <img class="imgRDC" src="../asset/img/RDC.png" alt="RDC2025">
                </div>
                <div class="contentRight">
                    <form id="formInscricao">
                        <div class="row">
                            <div class="col-md-12 center mb-2">
                                <label for="txtName"><b>Tipo de Inscrição</b></label>
                                <select class="form-select" aria-label="Default select example" id="tipInsc" required>
                                    <option value="lote1">1° Lote (4 dias)</option>
                                    <option value="lote1K">1° Lote Kids (4 dias)</option>
                                    <option value="diaria">Diária</option>
                                    <option value="inscricoesDiariaKids">Diária Kids</option>
                                  </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 center mb-2">
                                <label for="txtName"><b>Nome Completo</b></label>
                                <input type="text" class="form-control" name="txtName" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-md-6 mb-2">
                                <label for="dtpDataNascimento"><b>Data de Nascimento</b></label>
                                <input type="date" class="form-control" name="dtpDataNascimento" required> 
                            </div>
                            <div class="form-group col-md-6 mb-2">
                                <label for="txtIdade"><b>Idade</b></label>
                                <input type="number" class="form-control" name="txtIdade" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-md-6 mb-2">
                                <label for="txtCPF"><b>CPF</b></label>
                                <input type="text" class="form-control" name="txtCPF" id="txtCPF" required>
                            </div>
                            <div class="form-group col-md-6 mb-2">
                                <label for="txtTelefone"><b>Telefone</b></label>
                                <input type="text" id="txtTelefone" class="form-control" name="txtTelefone" pattern="\([0-9]{2}\)[\s][0-9]{4}-[0-9]{4,5}" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-md-12 mb-2">
                                <label for="txtEmail"><b>E-mail</b></label>
                                <input type="text" class="form-control" name="txtEmail" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-md-6 mb-2">
                                <label for="txtCEP"><b>CEP</b></label>
                                <input type="text" class="form-control" name="txtCEP" id="txtCEP" required>
                            </div>
                            <div class="form-group col-md-6 mb-2">
                                <label for="txtCidade"><b>Cidade</b></label>
                                <input type="text" class="form-control" name="txtCidade" disabled required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-md-12 mb-2">
                                <label for="txtLogradouro"><b>Logradouro</b></label>
                                <input type="text" class="form-control" name="txtLogradouro" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-md-12 mb-2">
                                <label for="txtBairro"><b>Bairro</b></label>
                                <input type="text" class="form-control" name="txtBairro" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-md-6 mb-2">
                                <label for="txtNumero"><b>Número</b></label>
                                <input type="number" class="form-control" name="txtNumero" required>
                            </div>
                            <div class="form-group col-md-6 mb-2">
                                <label for="txtComplemento"><b>Complemento (opcional)</b></label>
                                <input type="text" class="form-control" name="txtComplemento">
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-md-9 mb-2">
                                <label for="txtGrupo"><b>Grupo de Orações</b></label>
                                <input type="text" class="form-control" name="txtGrupo" required>
                            </div>
                            <div class="col-md-12 center mb-2 form-group">
                                <label for="txtName"><b>Quantos dias irá participar do Evento</b></label>
                                <select class="form-select" aria-label="Default select example" name="diasEvent" id="diasEvent" required>
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                  </select>
                            </div>
                            <!-- Primeiro retiro -->
                            <div class="row">
                                <div class="col">
                                    <div class="form-group">
                                        <label for="primeiroRetiro" class="form-label"><b>É seu primeiro retiro?</b></label>
                                        <select class="form-select" name="primeiroRetiro" id="primeiroRetiro">
                                            <option value="Sim">Sim</option>
                                            <option value="Não">Não</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- Intolerância alimentar e alergia -->
                            <div class="row">
                                <div class="col">
                                    <div class="form-group">
                                        <label class="form-label" for="alergia"><b>Possui alguma intolerância alimentar e/ou alguma alergia?</b></label>
                                        <input class="form-control" type="text" name="alergia" id="alergia" placeholder="Se sim, qual?">
                                    </div>
                                </div>
                            </div>

                            <!-- Pouso -->
                            <div class="row">
                                <div class="col">
                                    <div class="form-group">
                                        <label class="form-label" for="pouso"><b>Precisará de pouso?</b></label>
                                        <select class="form-select" name="pouso" id="pouso">
                                            <option value="Sim">Sim</option>
                                            <option value="Não">Não</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- Dias de Participação -->
                            <div class="row">
                                <div class="col">
                                    <div class="form-group">
                                        <label class="form-label"><b>Quais dias você irá participar?</b></label>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="diasParticipacao" id="dia1" value="1">
                                            <label class="form-check-label" for="dia1">1º Dia</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="diasParticipacao" id="dia2" value="2">
                                            <label class="form-check-label" for="dia2">2º Dia</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="diasParticipacao" id="dia3" value="3">
                                            <label class="form-check-label" for="dia3">3º Dia</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="diasParticipacao" id="dia4" value="4">
                                            <label class="form-check-label" for="dia4">4º Dia</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </form>
                    <div class="contButtons">
                        <button type="button" class="btn btn-success" id="buttonConfirm">Enviar</button>
                        <button type="button" class="btn btn-danger" id="clearButton">Limpar</button>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script type="text/javascript">
        $("#txtTelefone").mask("(00) 00009-0000");
        $("#txtCPF").mask("000.000.000-00");
        $("#txtCEP").mask("00000-000");
document.addEventListener("DOMContentLoaded", function () {
    const tipoInscricao = document.getElementById("tipInsc");
    const diasParticipacaoGroup = document.querySelector("[name='diasParticipacao']").closest(".form-group"); // Grupo de dias de participação
    const diasEventoInput = document.querySelector("[name='diasEvent']").closest(".form-select").closest('.form-group'); // Ajuste para pegar só o grupo específico


    // Função para verificar e atualizar a exibição dos campos
    const atualizarCampos = () => {
        const valor = tipoInscricao.value;

        if (valor === "diaria" || valor === "inscricoesDiariaKids") {
            diasParticipacaoGroup.style.display = "block"; // Mostra o grupo de dias de participação
            diasEventoInput.style.display = "block"
        } else {
            diasParticipacaoGroup.style.display = "none"; // Oculta o grupo de dias de participação
            diasEventoInput.style.display = "none"; // Oculta o campo de dias de evento
        }
    };

    // Evento de mudança no select
    tipoInscricao.addEventListener("change", atualizarCampos);

    // Inicializar a exibição correta dos campos
    atualizarCampos();
});

document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('formInscricao');
    const tipoInscricao = document.getElementById("tipInsc").value;
    const maxDias = document.getElementById('diasEvent');
    const diasEvento = document.querySelectorAll("[name='diasParticipacao']");

    // Função para atualizar a limitação de seleção de dias
    const atualizarLimiteDias = () => {
        const diasSelecionados = Array.from(diasEvento).filter(dia => dia.checked).length;
        console.log(maxDias.value)
        diasEvento.forEach(dia => {
            if (!dia.checked) {
                dia.disabled = diasSelecionados >= maxDias.value; // Desabilita opções extras se o limite for atingido
            }
        });
    };

    // Adiciona o evento de mudança no tipo de inscrição
    maxDias.addEventListener('change', () => {
        diasEvento.forEach(dia => {
            dia.checked = false; // Limpa seleções anteriores
            dia.disabled = false; // Habilita todos os checkboxes
        });
        atualizarLimiteDias(); // Atualiza o limite com base na nova seleção
    });

    // Adiciona o evento de mudança nos checkboxes de dias
    diasEvento.forEach(dia => {
        dia.addEventListener('change', atualizarLimiteDias);
    });

    // Valida o formulário ao enviar
    form.addEventListener('submit', (event) => {
        const diasSelecionados = Array.from(diasEvento).filter(dia => dia.checked).length;

        if (tipoInscricao.value === "diaria" || tipoInscricao.value === "inscricoesDiariaKids") {
            if (diasSelecionados !== 1) {
                event.preventDefault();
                alert('Selecione apenas um dia para inscrições diárias.');
            }
        }
    });
});



    </script>
    <script type="module" src="../js/scriptForm.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="sweetalert2.all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>